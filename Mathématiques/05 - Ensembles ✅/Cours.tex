\documentclass[11pt]{article}

\usepackage[paperheight=15in, left=2cm, right=2cm, top=2cm, bottom=2cm]{geometry}
\usepackage[most]{tcolorbox}
\usepackage{hyperref, fancyhdr, lastpage, tocloft, changepage}
\usepackage{enumitem}
\usepackage{amsmath, amssymb, amsthm, stmaryrd, cancel}

\def\pagetitle{Ensembles}
\setlength{\headheight}{14pt}
\newcommand*{\R}{\mathbb{R}}
\newcommand*{\C}{\mathbb{C}}
\newcommand*{\Q}{\mathbb{Q}}
\newcommand*{\Z}{\mathbb{Z}}
\newcommand*{\K}{\mathbb{K}}
\newcommand*{\N}{\mathbb{N}}
\newcommand*{\lb}{\llbracket}
\newcommand*{\rb}{\rrbracket}
\newcommand*{\n}{\\[0.2cm]}
\newcommand{\0}{\varnothing}

\title{\bf{\pagetitle}\\\large{Corrigé}}

\newcommand{\providetcbcountername}[1]{%
  \@ifundefined{c@tcb@cnt@#1}{%
    --undefined--%
  }{%
    tcb@cnt@#1%
  }
}

\newcommand{\settcbcounter}[2]{%
  \@ifundefined{c@tcb@cnt@#1}{%
    \GenericError{Error}{counter name #1 is no tcb counter }{}{}%
  }{%
    \setcounter{tcb@cnt@#1}{#2}%
   }%
}%

\newcommand{\displaytcbcounter}[1]{% Wrapper for \the...
  \@ifundefined{thetcb@cnt@#1}{%
    \GenericError{Error}{counter name #1 is no tcb counter }{}{}%
  }{%
    \csname thetcb@cnt@#1\endcsname% 
  }%
}

\newtcbtheorem{thm}{Théorème}
{
    enhanced,frame empty,interior empty,
    colframe=red,
    after skip = 1cm,
    borderline west={1pt}{0pt}{green!25!red},
    borderline south={1pt}{0pt}{green!25!red},
    left=0.2cm,
    attach boxed title to top left={yshift=-2mm,xshift=-2mm},
    coltitle=black,
    fonttitle=\bfseries,
    colbacktitle=white,
    boxed title style={boxrule=.4pt,sharp corners},
    before lower = {\textbf{Preuve :}\n}
}{thm}

\newtcbtheorem[use counter from = thm]{defi}{Définition}
{
    enhanced,frame empty,interior empty,
    colframe=green,
    after skip = 1cm,
    borderline west={1pt}{0pt}{green},
    borderline south={1pt}{0pt}{green},
    left=0.2cm,
    attach boxed title to top left={yshift=-2mm,xshift=-2mm},
    coltitle=black,
    fonttitle=\bfseries,
    colbacktitle=white,
    boxed title style={boxrule=.4pt,sharp corners},
    before lower = {\textbf{Preuve :}\n}
}{defi}

\newtcbtheorem[use counter from = thm]{prop}{Proposition}
{
    enhanced,frame empty,interior empty,
    colframe=blue,
    after skip = 1cm,
    borderline west={1pt}{0pt}{green!25!blue},
    borderline south={1pt}{0pt}{green!25!blue},
    left=0.2cm,
    attach boxed title to top left={yshift=-2mm,xshift=-2mm},
    coltitle=black,
    fonttitle=\bfseries,
    colbacktitle=white,
    boxed title style={boxrule=.4pt,sharp corners},
    before lower = {\textbf{Preuve :}\n}
}{prop}

\newtcbtheorem[use counter from = thm]{ex}{Exemple}
{
    enhanced,frame empty,interior empty,
    colframe=orange,
    after skip = 1cm,
    borderline west={1pt}{0pt}{green!25!orange},
    borderline south={1pt}{0pt}{green!25!orange},
    left=0.2cm,
    attach boxed title to top left={yshift=-2mm,xshift=-2mm},
    coltitle=black,
    fonttitle=\bfseries,
    colbacktitle=white,
    boxed title style={boxrule=.4pt,sharp corners},
    before lower = {\textbf{Preuve :}\n}
}{ex}

\newtcbtheorem[use counter from = thm]{meth}{Méthode}
{
    enhanced,frame empty,interior empty,
    colframe=purple,
    after skip = 1cm,
    borderline west={1pt}{0pt}{purple},
    borderline south={1pt}{0pt}{purple},
    left=0.2cm,
    attach boxed title to top left={yshift=-2mm,xshift=-2mm},
    coltitle=black,
    fonttitle=\bfseries,
    colbacktitle=white,
    boxed title style={boxrule=.4pt,sharp corners},
    before lower = {\textbf{Preuve :}\n}
}{meth}


\hypersetup{
    colorlinks=true,
    citecolor=black,
    linktoc=all,
    linkcolor=blue
}

\pagestyle{fancy}
\cfoot{\thepage\ sur \pageref*{LastPage}}

\begin{document}

\thispagestyle{fancy}
\fancyhead[L]{MP2I Paul Valéry}
\fancyhead[C]{\pagetitle}
\fancyhead[R]{2023-2024}

\hrule
\begin{center}
    \LARGE{\textbf{Chapitre 5}}\\
    \large{\pagetitle}\\
    \rule{0.8\textwidth}{0.5pt}
\end{center}


\vspace{0.5cm}

\section{Ensembles et opérations.}
\subsection{Notations.}

\begin{defi}{Naive}{}
    \begin{itemize}
        \item Un \textbf{ensemble} non vide E est une collection d'objets x appelés \textbf{éléments}.
        \item On dit d'un élément $x$ de $E$ qu'il \textbf{appartient} à $E$, ce qui se note $x \in E$\\
        Si l'objet $x$ n'est pas un élément de l'ensemble $E$, on peut noter $x \notin E$
        \item On pose qu'il existe un ensemble n'ayant pas d'éléments et que cet ensemble est unique.\\
        On l'appelle \textbf{ensemble vide} et on note $\0$. Pour tout objet $x$, l'assertion $x \in \0$ est fausse.
        \item Signe $\ll = \gg$. Si $x$ et $y$ deux éléments d'un ensemble $E$, on notera $x = y$ \\
        si on veut exprimer que $x$ et $y$ sont un seul et même élément de $E$.
    \end{itemize}
\end{defi}

\begin{ex}{Ensembles de nombres}{}
    \begin{enumerate}
        \item $\N$ l'ensemble des entiers naturels : $\N = \{ 0, 1, 2, 3, 4,$ · · · $\}$; $\Z$ l'ensemble des entiers relatifs.
        \item $\Q$ l'ensemble des nombres rationnels $\Q = \{ \frac{a}{b} | a \in \Z, b \in \N^{*} \}$
        \item $\R$ est l'ensemble des nombres réels. $\R^{*}_{+}$ celui des réels strictement positifs. On a $\R^{*}_{+} = \rbrack 0, \infty \lbrack$.
        \item Soit $n \in \N^{*}$. L'ensemble des entiers compris entre 1 et n s'écrit
        \begin{equation*}
            \{ 1, 2, \text{ ... }, n \}
        \end{equation*}, \\
        ou bien $\{k \in \N ~|~ 1 \leq k \leq n \}$. Cet intervalle d'entiers pourra aussi être noté $\lb 1, n \rb$.
    \end{enumerate}
\end{ex}

\begin{ex}{}{}
    Écrire de deux façons l'ensemble des couples de réels opposés.
    \tcblower
    En \textbf{extension}: $\{(x, -x), x \in \R_{+} \}$\\
    En \textbf{compréhension}: $\{(a, b) \in \R^{2} ~|~ a = -b \}$
\end{ex}

\begin{meth*}{Démontrer qu'un ensemble est vide}{}
    Le raisonnement par l'absurde peut être utile : on suppose que l'ensemble n'est pas vide, on prend un élément de l'ensemble, et on cherche une contradiction.
\end{meth*}

\subsection{Inclusion.}

\begin{defi}{}{}
    Soit $A$ et $B$ deux ensembles. On dit que $A$ est \textbf{inclus} dans $B$, ce que l'on note $A \subset B$, si tout élément de $A$ est un élément de $B$ : 
    \begin{equation*}
        \forall x \in A ~~~~x \in B
    \end{equation*}
\end{defi}

\begin{meth*}{}{}
    Pour prouver une inclusion $A \subset B$,
    \begin{enumerate}
        \item On considère un élément de $A$ ("Soit $x \in A$")
        \item puis on prouve qu'il est dans $B$ (on devra conclure avec "donc $x \in B$")
    \end{enumerate}
\end{meth*}

\begin{ex}{}{}
    Justifier que $\Z \subset \Q$ puis que $\Q \not \subset \Z$
    \tcblower
    Soit $x \in \Z$, on peut écire $x$ comme $\frac{x}{1}$ avec $x \in \Z$ et $1 \in \N$\n
    Ainsi on a donc $\Z \subset \Q$
\end{ex}
\end{document}
